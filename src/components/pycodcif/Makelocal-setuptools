SWIG_TMP_FILES   = pycodcif.py pycodcif_wrap.c
PYTHON_DIST_PATH = lib/python2.7/dist-packages

VERSION := $(shell grep -v "^\#" ../../../.version)

EGG_DIR = pycodcif-${VERSION}.egg-info

${TEST_MODULE} ${TEST_DEPEND}:
	python setup.py build
	python setup.py install --root .

install:
	mkdir --parents ${PREFIX}/${PYTHON_DIST_PATH}/pycodcif
	mkdir --parents ${PREFIX}/${PYTHON_DIST_PATH}/${EGG_DIR}
	install usr/local/${PYTHON_DIST_PATH}/pycodcif/*.so ${PREFIX}/${PYTHON_DIST_PATH}/pycodcif
	install --mode 644 usr/local/${PYTHON_DIST_PATH}/pycodcif/*.py ${PREFIX}/${PYTHON_DIST_PATH}/pycodcif
	install --mode 644 usr/local/${PYTHON_DIST_PATH}/${EGG_DIR}/*  ${PREFIX}/${PYTHON_DIST_PATH}/${EGG_DIR}

clean:
	rm  -f ${SWIG_TMP_FILES}
	rm -rf build pycodcif.egg-info

distclean cleanAll: clean
	rm -rf usr
